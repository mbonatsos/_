!window.setImmediate && function (a) { let b = Object.getPrototypeOf && Object.getPrototypeOf(a); if (b && b.setTimeout || (b = a), a.msSetImmediate) return b.setImmediate = a.msSetImmediate, b.clearImmediate = a.msClearImmediate; if (a.process && "[object process]" === Object.prototype.toString(a.process)) { let c = a.require("timers"); if (c && c.setImmediate) return b.setImmediate = c.setImmediate, b.clearImmediate = c.clearImmediate; if (a.process.nextTick) return b.setImmediate = function (b, ...c) { a.process.nextTick(() => b(...c)) }, b.clearImmediate = function () { throw new Error("clearImmediate not implemented") } } if (a.MessageChannel || a.postMessage && !a.importScripts && function () { let b = !0, c = a.onmessage; return a.onmessage = function () { b = !1 }, a.postMessage("", "*"), a.onmessage = c, b }()) { let c = `setImmediate-polyfill-${Math.random()}`.replace("0.", ""), d = 1, e = {}, f = a.MessageChannel && new a.MessageChannel; return f && f.port1.start(), (f && f.port1 || a).addEventListener("message", function (b) { if (!b.data || !b.data.split) return; let [d, g] = b.data.split("$"); if (!f && b.source !== a || d !== c) return; b.stopPropagation(); let [h, i] = e[g] || []; h && h(...i), h = i = null, delete e[g] }, !1), (b.setImmediate = function (b, ...g) { return e[d] = [b, g], (f && f.port2 || a).postMessage([c, d].join("$"), ...(f ? [] : ["*"])), d++ }, b.clearImmediate = function (a) { delete e[a] }) } if (b.setImmediate = a.requestAnimationFrame || a.mozRequestAnimationFrame || a.webkitRequestAnimationFrame || a.msRequestAnimationFrame, b.setImmediate) return b.clearImmediate = a.cancelAnimationFrame || a.mozCancelAnimationFrame || a.webkitCancelAnimationFrame || a.msCancelAnimationFrame || a.webkitCancelRequestAnimationFrame; if (a.document && "onreadystatechange" in a.document.getElementsByTagName("script")[0]) { let c = 1, d = {}; return b.setImmediate = function (b, ...e) { d[c] = !0; let f = a.document.createElement("script"); return f.onreadystatechange = function () { d[c] && b(...e), delete d[c], f.onreadystatechange = null, a.document.body.removeChild(f), f = null }, a.document.body.appendChild(f), c++ }, b.clearImmediate = function (a) { delete d[a] } } b.setImmediate = (b, ...c) => a.setTimeout(b, 0, ...c), b.clearImmediate = a.clearTimeout, a.setTimeout(function (c) { c || (b.setImmediate = (b, ...c) => a.setTimeout(() => b(...c), 0)) }, 0, !0) }(this || window);