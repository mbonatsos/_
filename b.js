"undefined" != typeof module && module.exports && (this["encoding-indexes"] = require("./encoding-indexes.js")["encoding-indexes"]), function (a) { "use strict"; function b(b, a, c) { return a <= b && b <= c } function c(a, b) { return Math.floor(a / b) } function d(a) { return a || {} } function e(a) { var b = 0; this.get = function () { return b >= a.length ? -1 : +a[b] }, this.offset = function (c) { if (b += c, 0 > b) throw Error("Seeking past start of the buffer"); if (b > a.length) throw Error("Seeking past EOF") }, this.match = function (c) { if (c.length > b + a.length) return !1; var d; for (d = 0; d < c.length; d += 1)if (+a[b + d] !== c[d]) return !1; return !0 } } function f(a) { var b = 0; this.emit = function () { var c, d = -1; for (c = 0; c < arguments.length; ++c)d = +arguments[c], a[b++] = d; return d } } function g(a) { var c = 0, d = function (a) { for (var e = [], f = 0, g = a.length; f < a.length;) { var h = a.charCodeAt(f); if (!b(h, 55296, 57343)) e.push(h); else if (b(h, 56320, 57343)) e.push(65533); else if (f === g - 1) e.push(65533); else { var c = a.charCodeAt(f + 1); if (b(c, 56320, 57343)) { f += 1, e.push(65536 + ((1023 & h) << 10) + (1023 & c)) } else e.push(65533) } f += 1 } return e }(a); this.offset = function (a) { if (c += a, 0 > c) throw Error("Seeking past start of the buffer"); if (c > d.length) throw Error("Seeking past EOF") }, this.get = function () { return c >= d.length ? -1 : d[c] } } function h() { var a = ""; this.string = function () { return a }, this.emit = function (b) { 65535 >= b ? a += String.fromCharCode(b) : (b -= 65536, a += String.fromCharCode(55296 + (1023 & b >> 10)), a += String.fromCharCode(56320 + (1023 & b))) } } function i(a) { var b = Error(a); return b.name = "EncodingError", b.code = 0, b } function j(a, b) { if (a) throw i("Decoder error"); return b || 65533 } function k(a) { throw i("The code point " + a + " could not be encoded.") } function l(a) { return a = (a + "").trim().toLowerCase(), Object.prototype.hasOwnProperty.call(R, a) ? R[a] : null } function m(a, b) { return b ? b[a] || null : null } function n(a, b) { var c = b.indexOf(a); return -1 === c ? null : c } function o(b) { if (!("encoding-indexes" in a)) throw Error("Indexes missing. Did you forget to include encoding-indexes.js?"); return a["encoding-indexes"][b] } function p(a) { if (39419 < a && 189e3 > a || 1237575 < a) return null; var b, c = 0, d = 0, e = o("gb18030"); for (b = 0; b < e.length; ++b) { var f = e[b]; if (f[0] <= a) c = f[0], d = f[1]; else break } return d + a - c } function q(a) { var b, c = 0, d = 0, e = o("gb18030"); for (b = 0; b < e.length; ++b) { var f = e[b]; if (f[1] <= a) c = f[1], d = f[0]; else break } return d + a - c } function r(a, b) { if (!(this instanceof r)) return new r(a, b); if (a = a ? a + "" : "utf-8", b = d(b), this._encoding = l(a), null === this._encoding || "replacement" === this._encoding.name) throw TypeError("Unknown encoding: " + a); if (!T[this._encoding.name]) throw Error("Decoder not present. Did you forget to include encoding-indexes.js?"); return this._streaming = !1, this._BOMseen = !1, this._decoder = null, this._options = { fatal: !!b.fatal }, Object.defineProperty ? Object.defineProperty(this, "encoding", { value: this._encoding.name }) : this.encoding = this._encoding.name, this } function s(a, b) { if (!(this instanceof s)) return new s(a, b); a = a ? a + "" : "utf-8", b = d(b), this._encoding = l(a); var c = !!b.NONSTANDARD_allowLegacyEncoding, e = "utf-8" !== this._encoding.name && "utf-16le" !== this._encoding.name && "utf-16be" !== this._encoding.name; if (null === this._encoding || e && !c) throw TypeError("Unknown encoding: " + a); if (!S[this._encoding.name]) throw Error("Encoder not present. Did you forget to include encoding-indexes.js?"); return this._streaming = !1, this._encoder = null, this._options = { fatal: !!b.fatal }, Object.defineProperty ? Object.defineProperty(this, "encoding", { value: this._encoding.name }) : this.encoding = this._encoding.name, this } function t(a) { var c = a.fatal, d = 0, e = 0, f = 0, g = 0; this.decode = function (a) { var h = a.get(); if (-1 === h) return 0 === e ? -1 : j(c); if (a.offset(1), 0 === e) { if (b(h, 0, 127)) return h; if (b(h, 194, 223)) e = 1, g = 128, d = h - 192; else if (b(h, 224, 239)) e = 2, g = 2048, d = h - 224; else if (b(h, 240, 244)) e = 3, g = 65536, d = h - 240; else return j(c); return d *= Math.pow(64, e), null } if (!b(h, 128, 191)) return d = 0, e = 0, f = 0, g = 0, a.offset(-1), j(c); if (f += 1, d += (h - 128) * Math.pow(64, e - f), f !== e) return null; var i = d, k = g; return d = 0, e = 0, f = 0, g = 0, b(i, k, 1114111) && !b(i, 55296, 57343) ? i : j(c) } } function u(a) { a.fatal; this.encode = function (a, d) { var e = d.get(); if (-1 === e) return -1; if (d.offset(1), b(e, 55296, 57343)) return k(e); if (b(e, 0, 127)) return a.emit(e); var f, g; b(e, 128, 2047) ? (f = 1, g = 192) : b(e, 2048, 65535) ? (f = 2, g = 224) : b(e, 65536, 1114111) && (f = 3, g = 240); for (var h, i = a.emit(c(e, Math.pow(64, f)) + g); 0 < f;)h = c(e, Math.pow(64, f - 1)), i = a.emit(128 + h % 64), f -= 1; return i } } function v(a, c) { var d = c.fatal; this.decode = function (c) { var e = c.get(); if (-1 === e) return -1; if (c.offset(1), b(e, 0, 127)) return e; var f = a[e - 128]; return null === f ? j(d) : f } } function w(a, c) { c.fatal; this.encode = function (c, d) { var e = d.get(); if (-1 === e) return -1; if (d.offset(1), b(e, 0, 127)) return c.emit(e); var f = n(e, a); return null === f && k(e), c.emit(f + 128) } } function x(a) { var c = a.fatal, d = 0, e = 0, f = 0; this.decode = function (a) { var g = a.get(); if (g === -1 && 0 === d && 0 === e && 0 === f) return -1; g === -1 && (0 !== d || 0 !== e || 0 !== f) && (d = 0, e = 0, f = 0, j(c)), a.offset(1); var h; if (0 !== f) return h = null, b(g, 48, 57) && (h = p(10 * (126 * (10 * (d - 129) + (e - 48)) + (f - 129)) + g - 48)), d = 0, e = 0, f = 0, null === h ? (a.offset(-3), j(c)) : h; if (0 !== e) return b(g, 129, 254) ? (f = g, null) : (a.offset(-2), d = 0, e = 0, j(c)); if (0 !== d) { if (b(g, 48, 57)) return e = g, null; var i = d, k = null; d = 0; var l = 127 > g ? 64 : 65; return (b(g, 64, 126) || b(g, 128, 254)) && (k = 190 * (i - 129) + (g - l)), h = null === k ? null : m(k, o("gb18030")), null === k && a.offset(-1), null === h ? j(c) : h } return b(g, 0, 127) ? g : 128 === g ? 8364 : b(g, 129, 254) ? (d = g, null) : j(c) } } function y(a) { a.fatal; this.encode = function (a, d) { var e = d.get(); if (-1 === e) return -1; if (d.offset(1), b(e, 0, 127)) return a.emit(e); var f = n(e, o("gb18030")); if (null !== f) { var g = c(f, 190) + 129, h = f % 190, i = 63 > h ? 64 : 65; return a.emit(g, h + i) } f = q(e); var j = c(c(c(f, 10), 126), 10); f -= 10 * (126 * (10 * j)); var k = c(c(f, 10), 126); f -= 126 * (10 * k); var l = c(f, 10), m = f - 10 * l; return a.emit(j + 129, k + 48, l + 129, m + 48) } } function z(a) { var c = a.fatal, d = !1, e = 0; this.decode = function (a) { var f = a.get(); if (-1 === f && 0 === e) return -1; if (-1 === f && 0 !== e) return e = 0, j(c); if (a.offset(1), 126 === e) return (e = 0, 123 === f) ? (d = !0, null) : 125 === f ? (d = !1, null) : 126 === f ? 126 : 10 === f ? null : (a.offset(-1), j(c)); if (0 !== e) { var g = e; e = 0; var h = null; return b(f, 33, 126) && (h = m(190 * (g - 1) + (f + 63), o("gb18030"))), 10 === f && (d = !1), null === h ? j(c) : h } return 126 === f ? (e = 126, null) : d ? b(f, 32, 127) ? (e = f, null) : (10 === f && (d = !1), j(c)) : b(f, 0, 127) ? f : j(c) } } function A(a) { var d = a.fatal, e = !1; this.encode = function (a, d) { var f = d.get(); if (-1 === f) return -1; if (d.offset(1), b(f, 0, 127) && e) return d.offset(-1), e = !1, a.emit(126, 125); if (126 === f) return a.emit(126, 126); if (b(f, 0, 127)) return a.emit(f); if (!e) return d.offset(-1), e = !0, a.emit(126, 123); var g = n(f, o("gb18030")); if (null === g) return k(f); var h = c(g, 190) + 1, i = g % 190 - 63; return b(h, 33, 126) && b(i, 33, 126) ? a.emit(h, i) : k(f) } } function B(a) { var c = a.fatal, d = 0, e = null; this.decode = function (a) { if (null !== e) { var f = e; return e = null, f } var g = a.get(); if (-1 === g && 0 === d) return -1; if (-1 === g && 0 !== d) return d = 0, j(c); if (a.offset(1), 0 !== d) { var h = d, i = null; d = 0; var k = 127 > g ? 64 : 98; if ((b(g, 64, 126) || b(g, 161, 254)) && (i = 157 * (h - 129) + (g - k)), 1133 === i) return e = 772, 202; if (1135 === i) return e = 780, 202; if (1164 === i) return e = 772, 234; if (1166 === i) return e = 780, 234; var l = null === i ? null : m(i, o("big5")); return null === i && a.offset(-1), null === l ? j(c) : l } return b(g, 0, 127) ? g : b(g, 129, 254) ? (d = g, null) : j(c) } } function C(a) { a.fatal; this.encode = function (a, d) { var e = d.get(); if (-1 === e) return -1; if (d.offset(1), b(e, 0, 127)) return a.emit(e); var f = n(e, o("big5")); if (null === f) return k(e); var g = c(f, 157) + 129, h = f % 157, i = 63 > h ? 64 : 98; return a.emit(g, h + i) } } function D(a) { var c = a.fatal, d = 0, e = 0; this.decode = function (a) { var f = a.get(); if (-1 === f) return 0 === d && 0 === e ? -1 : (d = 0, e = 0, j(c)); a.offset(1); var g, h; return 0 === e ? 142 === d && b(f, 161, 223) ? (d = 0, 65377 + f - 161) : 143 === d && b(f, 161, 254) ? (d = 0, e = f, null) : 0 === d ? b(f, 0, 127) ? f : 142 === f || 143 === f || b(f, 161, 254) ? (d = f, null) : j(c) : (g = d, d = 0, h = null, b(g, 161, 254) && b(f, 161, 254) && (h = m(94 * (g - 161) + f - 161, o("jis0208"))), b(f, 161, 254) || a.offset(-1), null === h ? j(c) : h) : (g = e, e = 0, h = null, b(g, 161, 254) && b(f, 161, 254) && (h = m(94 * (g - 161) + f - 161, o("jis0212"))), b(f, 161, 254) || a.offset(-1), null === h ? j(c) : h) } } function E(a) { a.fatal; this.encode = function (a, d) { var e = d.get(); if (-1 === e) return -1; if (d.offset(1), b(e, 0, 127)) return a.emit(e); if (165 === e) return a.emit(92); if (8254 === e) return a.emit(126); if (b(e, 65377, 65439)) return a.emit(142, e - 65377 + 161); var f = n(e, o("jis0208")); if (null === f) return k(e); var g = c(f, 94) + 161; return a.emit(g, f % 94 + 161) } } function F(a) { var c = a.fatal, d = { ASCII: 0, escape_start: 1, escape_middle: 2, escape_final: 3, lead: 4, trail: 5, Katakana: 6 }, e = d.ASCII, f = !1, g = 0; this.decode = function (a) { var h = a.get(); switch (-1 !== h && a.offset(1), e) { case d.ASCII: default: return 27 === h ? (e = d.escape_start, null) : b(h, 0, 127) ? h : -1 === h ? -1 : j(c); case d.escape_start: return 36 === h || 40 === h ? (g = h, e = d.escape_middle, null) : (-1 !== h && a.offset(-1), e = d.ASCII, j(c)); case d.escape_middle: var i = g; return (g = 0, 36 === i && (64 === h || 66 === h)) ? (f = !1, e = d.lead, null) : 36 === i && 40 === h ? (e = d.escape_final, null) : 40 === i && (66 === h || 74 === h) ? (e = d.ASCII, null) : 40 === i && 73 === h ? (e = d.Katakana, null) : (-1 === h ? a.offset(-1) : a.offset(-2), e = d.ASCII, j(c)); case d.escape_final: return 68 === h ? (f = !0, e = d.lead, null) : (-1 === h ? a.offset(-2) : a.offset(-3), e = d.ASCII, j(c)); case d.lead: return 10 === h ? (e = d.ASCII, j(c, 10)) : 27 === h ? (e = d.escape_start, null) : -1 === h ? -1 : (g = h, e = d.trail, null); case d.trail: if (e = d.lead, -1 === h) return j(c); var k = null, l = 94 * (g - 33) + h - 33; return b(g, 33, 126) && b(h, 33, 126) && (k = !1 === f ? m(l, o("jis0208")) : m(l, o("jis0212"))), null === k ? j(c) : k; case d.Katakana: return 27 === h ? (e = d.escape_start, null) : b(h, 33, 95) ? 65377 + h - 33 : -1 === h ? -1 : j(c); } } } function G(a) { var d = a.fatal, e = { ASCII: 0, lead: 1, Katakana: 2 }, f = e.ASCII; this.encode = function (a, d) { var g = d.get(); if (-1 === g) return -1; if (d.offset(1), (b(g, 0, 127) || 165 === g || 8254 === g) && f !== e.ASCII) return d.offset(-1), f = e.ASCII, a.emit(27, 40, 66); if (b(g, 0, 127)) return a.emit(g); if (165 === g) return a.emit(92); if (8254 === g) return a.emit(126); if (b(g, 65377, 65439) && f !== e.Katakana) return d.offset(-1), f = e.Katakana, a.emit(27, 40, 73); if (b(g, 65377, 65439)) return a.emit(g - 65377 - 33); if (f !== e.lead) return d.offset(-1), f = e.lead, a.emit(27, 36, 66); var h = n(g, o("jis0208")); if (null === h) return k(g); var i = c(h, 94) + 33; return a.emit(i, h % 94 + 33) } } function H(a) { var c = a.fatal, d = 0; this.decode = function (a) { var e = a.get(); if (-1 === e && 0 === d) return -1; if (-1 === e && 0 !== d) return d = 0, j(c); if (a.offset(1), 0 !== d) { var f = d; if (d = 0, b(e, 64, 126) || b(e, 128, 252)) { var g = 127 > e ? 64 : 65, h = 160 > f ? 129 : 193, i = m(188 * (f - h) + e - g, o("jis0208")); return null === i ? j(c) : i } return a.offset(-1), j(c) } return b(e, 0, 128) ? e : b(e, 161, 223) ? 65377 + e - 161 : b(e, 129, 159) || b(e, 224, 252) ? (d = e, null) : j(c) } } function I(a) { a.fatal; this.encode = function (a, d) { var e = d.get(); if (-1 === e) return -1; if (d.offset(1), b(e, 0, 128)) return a.emit(e); if (165 === e) return a.emit(92); if (8254 === e) return a.emit(126); if (b(e, 65377, 65439)) return a.emit(e - 65377 + 161); var f = n(e, o("jis0208")); if (null === f) return k(e); var g = c(f, 188), h = 31 > g ? 129 : 193, i = f % 188, j = 63 > i ? 64 : 65; return a.emit(g + h, i + j) } } function J(a) { var c = a.fatal, d = 0; this.decode = function (a) { var e = a.get(); if (-1 === e && 0 === d) return -1; if (-1 === e && 0 !== d) return d = 0, j(c); if (a.offset(1), 0 !== d) { var f = d, g = null; if (d = 0, b(f, 129, 198)) { var h = 178 * (f - 129); b(e, 65, 90) ? g = h + e - 65 : b(e, 97, 122) ? g = h + 26 + e - 97 : b(e, 129, 254) && (g = h + 26 + 26 + e - 129) } b(f, 199, 253) && b(e, 161, 254) && (g = 12460 + 94 * (f - 199) + (e - 161)); var i = null === g ? null : m(g, o("euc-kr")); return null === g && a.offset(-1), null === i ? j(c) : i } return b(e, 0, 127) ? e : b(e, 129, 253) ? (d = e, null) : j(c) } } function K(a) { a.fatal; this.encode = function (a, d) { var e = d.get(); if (-1 === e) return -1; if (d.offset(1), b(e, 0, 127)) return a.emit(e); var f = n(e, o("euc-kr")); if (null === f) return k(e); var g, h; if (12460 > f) { g = c(f, 178) + 129, h = f % 178; var i = 26 > h ? 65 : 52 > h ? 71 : 77; return a.emit(g, h + i) } return f -= 12460, g = c(f, 94) + 199, h = f % 94 + 161, a.emit(g, h) } } function L(a, c) { var d = c.fatal, e = null, f = null; this.decode = function (c) { var g = c.get(); if (-1 === g && null === e && null === f) return -1; if (-1 === g && (null !== e || null !== f)) return j(d); if (c.offset(1), null === e) return e = g, null; var h; if (h = a ? (e << 8) + g : (g << 8) + e, e = null, null !== f) { var i = f; return (f = null, b(h, 56320, 57343)) ? 65536 + 1024 * (i - 55296) + (h - 56320) : (c.offset(-2), j(d)) } return b(h, 55296, 56319) ? (f = h, null) : b(h, 56320, 57343) ? j(d) : h } } function M(a, d) { d.fatal; this.encode = function (d, e) { function f(b) { var c = b >> 8, e = 255 & b; return a ? d.emit(c, e) : d.emit(e, c) } var g = e.get(); if (-1 === g) return -1; if (e.offset(1), b(g, 55296, 57343) && k(g), 65535 >= g) return f(g); var h = c(g - 65536, 1024) + 55296; return f(h), f((g - 65536) % 1024 + 56320) } } function N(a) { a.fatal; this.decode = function (a) { var c = a.get(); return -1 === c ? -1 : (a.offset(1), b(c, 0, 127) ? c : 63360 + c - 128) } } function O(a) { a.fatal; this.encode = function (a, c) { var d = c.get(); return -1 === d ? -1 : (c.offset(1), b(d, 0, 127) ? a.emit(d) : b(d, 63360, 63487) ? a.emit(d - 63360 + 128) : k(d)) } } var P = -1; i.prototype = Error.prototype, function () { }.prototype = { decode: function () { } }, function () { }.prototype = { encode: function () { } }; var Q = [{ encodings: [{ labels: ["unicode-1-1-utf-8", "utf-8", "utf8"], name: "utf-8" }], heading: "The Encoding" }, { encodings: [{ labels: ["866", "cp866", "csibm866", "ibm866"], name: "ibm866" }, { labels: ["csisolatin2", "iso-8859-2", "iso-ir-101", "iso8859-2", "iso88592", "iso_8859-2", "iso_8859-2:1987", "l2", "latin2"], name: "iso-8859-2" }, { labels: ["csisolatin3", "iso-8859-3", "iso-ir-109", "iso8859-3", "iso88593", "iso_8859-3", "iso_8859-3:1988", "l3", "latin3"], name: "iso-8859-3" }, { labels: ["csisolatin4", "iso-8859-4", "iso-ir-110", "iso8859-4", "iso88594", "iso_8859-4", "iso_8859-4:1988", "l4", "latin4"], name: "iso-8859-4" }, { labels: ["csisolatincyrillic", "cyrillic", "iso-8859-5", "iso-ir-144", "iso8859-5", "iso88595", "iso_8859-5", "iso_8859-5:1988"], name: "iso-8859-5" }, { labels: ["arabic", "asmo-708", "csiso88596e", "csiso88596i", "csisolatinarabic", "ecma-114", "iso-8859-6", "iso-8859-6-e", "iso-8859-6-i", "iso-ir-127", "iso8859-6", "iso88596", "iso_8859-6", "iso_8859-6:1987"], name: "iso-8859-6" }, { labels: ["csisolatingreek", "ecma-118", "elot_928", "greek", "greek8", "iso-8859-7", "iso-ir-126", "iso8859-7", "iso88597", "iso_8859-7", "iso_8859-7:1987", "sun_eu_greek"], name: "iso-8859-7" }, { labels: ["csiso88598e", "csisolatinhebrew", "hebrew", "iso-8859-8", "iso-8859-8-e", "iso-ir-138", "iso8859-8", "iso88598", "iso_8859-8", "iso_8859-8:1988", "visual"], name: "iso-8859-8" }, { labels: ["csiso88598i", "iso-8859-8-i", "logical"], name: "iso-8859-8-i" }, { labels: ["csisolatin6", "iso-8859-10", "iso-ir-157", "iso8859-10", "iso885910", "l6", "latin6"], name: "iso-8859-10" }, { labels: ["iso-8859-13", "iso8859-13", "iso885913"], name: "iso-8859-13" }, { labels: ["iso-8859-14", "iso8859-14", "iso885914"], name: "iso-8859-14" }, { labels: ["csisolatin9", "iso-8859-15", "iso8859-15", "iso885915", "iso_8859-15", "l9"], name: "iso-8859-15" }, { labels: ["iso-8859-16"], name: "iso-8859-16" }, { labels: ["cskoi8r", "koi", "koi8", "koi8-r", "koi8_r"], name: "koi8-r" }, { labels: ["koi8-u"], name: "koi8-u" }, { labels: ["csmacintosh", "mac", "macintosh", "x-mac-roman"], name: "macintosh" }, { labels: ["dos-874", "iso-8859-11", "iso8859-11", "iso885911", "tis-620", "windows-874"], name: "windows-874" }, { labels: ["cp1250", "windows-1250", "x-cp1250"], name: "windows-1250" }, { labels: ["cp1251", "windows-1251", "x-cp1251"], name: "windows-1251" }, { labels: ["ansi_x3.4-1968", "ascii", "cp1252", "cp819", "csisolatin1", "ibm819", "iso-8859-1", "iso-ir-100", "iso8859-1", "iso88591", "iso_8859-1", "iso_8859-1:1987", "l1", "latin1", "us-ascii", "windows-1252", "x-cp1252"], name: "windows-1252" }, { labels: ["cp1253", "windows-1253", "x-cp1253"], name: "windows-1253" }, { labels: ["cp1254", "csisolatin5", "iso-8859-9", "iso-ir-148", "iso8859-9", "iso88599", "iso_8859-9", "iso_8859-9:1989", "l5", "latin5", "windows-1254", "x-cp1254"], name: "windows-1254" }, { labels: ["cp1255", "windows-1255", "x-cp1255"], name: "windows-1255" }, { labels: ["cp1256", "windows-1256", "x-cp1256"], name: "windows-1256" }, { labels: ["cp1257", "windows-1257", "x-cp1257"], name: "windows-1257" }, { labels: ["cp1258", "windows-1258", "x-cp1258"], name: "windows-1258" }, { labels: ["x-mac-cyrillic", "x-mac-ukrainian"], name: "x-mac-cyrillic" }], heading: "Legacy single-byte encodings" }, { encodings: [{ labels: ["chinese", "csgb2312", "csiso58gb231280", "gb18030", "gb2312", "gb_2312", "gb_2312-80", "gbk", "iso-ir-58", "x-gbk"], name: "gb18030" }, { labels: ["hz-gb-2312"], name: "hz-gb-2312" }], heading: "Legacy multi-byte Chinese (simplified) encodings" }, { encodings: [{ labels: ["big5", "big5-hkscs", "cn-big5", "csbig5", "x-x-big5"], name: "big5" }], heading: "Legacy multi-byte Chinese (traditional) encodings" }, { encodings: [{ labels: ["cseucpkdfmtjapanese", "euc-jp", "x-euc-jp"], name: "euc-jp" }, { labels: ["csiso2022jp", "iso-2022-jp"], name: "iso-2022-jp" }, { labels: ["csshiftjis", "ms_kanji", "shift-jis", "shift_jis", "sjis", "windows-31j", "x-sjis"], name: "shift_jis" }], heading: "Legacy multi-byte Japanese encodings" }, { encodings: [{ labels: ["cseuckr", "csksc56011987", "euc-kr", "iso-ir-149", "korean", "ks_c_5601-1987", "ks_c_5601-1989", "ksc5601", "ksc_5601", "windows-949"], name: "euc-kr" }], heading: "Legacy multi-byte Korean encodings" }, { encodings: [{ labels: ["csiso2022kr", "iso-2022-cn", "iso-2022-cn-ext", "iso-2022-kr"], name: "replacement" }, { labels: ["utf-16be"], name: "utf-16be" }, { labels: ["utf-16", "utf-16le"], name: "utf-16le" }, { labels: ["x-user-defined"], name: "x-user-defined" }], heading: "Legacy miscellaneous encodings" }], R = {}; Q.forEach(function (a) { a.encodings.forEach(function (a) { a.labels.forEach(function (b) { R[b] = a }) }) }); var S = {}, T = {}; r.prototype = { decode: function (a, b) { if (a && !("buffer" in a && "byteOffset" in a && "byteLength" in a)) throw TypeError("Expected ArrayBufferView"); else a || (a = new Uint8Array(0)); b = d(b), this._streaming || (this._decoder = T[this._encoding.name](this._options), this._BOMseen = !1), this._streaming = !!b.stream; for (var c, f = new Uint8Array(a.buffer, a.byteOffset, a.byteLength), g = new e(f), i = new h; -1 !== g.get();)c = this._decoder.decode(g), null !== c && c !== P && i.emit(c); if (!this._streaming) { do c = this._decoder.decode(g), null !== c && c !== P && i.emit(c); while (c !== P && -1 != g.get()); this._decoder = null } var j = i.string(); return !this._BOMseen && j.length && (this._BOMseen = !0, -1 !== ["utf-8", "utf-16le", "utf-16be"].indexOf(this.encoding) && 65279 === j.charCodeAt(0) && (j = j.substring(1))), j } }, s.prototype = { encode: function (a, b) { a = a ? a + "" : "", b = d(b), this._streaming || (this._encoder = S[this._encoding.name](this._options)), this._streaming = !!b.stream; for (var c = [], e = new f(c), h = new g(a); h.get() !== P;)this._encoder.encode(e, h); if (!this._streaming) { var i; do i = this._encoder.encode(e, h); while (i !== -1); this._encoder = null } return new Uint8Array(c) } }, S["utf-8"] = function (a) { return new u(a) }, T["utf-8"] = function (a) { return new t(a) }, function () { "encoding-indexes" in a && Q.forEach(function (a) { "Legacy single-byte encodings" !== a.heading || a.encodings.forEach(function (a) { var b = a.name, c = o(b); T[b] = function (a) { return new v(c, a) }, S[b] = function (a) { return new w(c, a) } }) }) }(), S.gb18030 = function (a) { return new y(a) }, T.gb18030 = function (a) { return new x(a) }, S["hz-gb-2312"] = function (a) { return new A(a) }, T["hz-gb-2312"] = function (a) { return new z(a) }, S.big5 = function (a) { return new C(a) }, T.big5 = function (a) { return new B(a) }, S["euc-jp"] = function (a) { return new E(a) }, T["euc-jp"] = function (a) { return new D(a) }, S["iso-2022-jp"] = function (a) { return new G(a) }, T["iso-2022-jp"] = function (a) { return new F(a) }, S.shift_jis = function (a) { return new I(a) }, T.shift_jis = function (a) { return new H(a) }, S["euc-kr"] = function (a) { return new K(a) }, T["euc-kr"] = function (a) { return new J(a) }, S["utf-16be"] = function (a) { return new M(!0, a) }, T["utf-16be"] = function (a) { return new L(!0, a) }, S["utf-16le"] = function (a) { return new M(!1, a) }, T["utf-16le"] = function (a) { return new L(!1, a) }, S["x-user-defined"] = function (a) { return new O(a) }, T["x-user-defined"] = function (a) { return new N(a) }, "TextEncoder" in a || (a.TextEncoder = s), "TextDecoder" in a || (a.TextDecoder = r) }(this);